@model Device_toolsVM

<div class="row pb-3">

    <div class="card shadow border-0 my-4 py-4">
        <div class="card-header bg-secondary bg-gradient ml-0 py-3">
            <div class="row">
                <div class="col-12 text-center">
                    <h2 class="text-white py-2">
                        إضافة الأجهزة والأدوات
                    </h2>
                </div>
            </div>
        </div>

        <form method="post" class="row" enctype="multipart/form-data" asp-action="CreateIndex" asp-controller="Device_tool">

            <div class="col-lg-3 col-sm-6">
                <div class="row p-2">
                    <div class="col-12 p-1">
                        <div class="card border-0 p-3 shadow  border-top border-5 rounded">


                            <input asp-for="tredMaeketToolsVM.BrandID" hidden />
                            <input asp-for="tredMaeketToolsVM.ID_Login" hidden />
                            <input asp-for="tredMaeketToolsVM.BrandName" hidden />
                            <input asp-for="tredMaeketToolsVM.Date" hidden />
                            <input asp-for="tredMaeketToolsVM.BrandCoverImage" hidden />
                            <input asp-for="tredMaeketToolsVM.BrandLogoImage" hidden />
                            <input asp-for="tredMaeketToolsVM.BrandFooterImage" hidden />
                            <input asp-for="Device_toolVM.DevicesAndToolsID" hidden />
                            <input asp-for="Device_toolVM.BrandFK" hidden />

                            <table id="tblDeviceTools" class="table table-bordered table-striped" data-DeviceTools-id="@Model.tredMaeketToolsVM.BrandID">
                                <thead>
                                    <tr>
                                        <th> الجهاز أو الأداة الأول</th>
                                        <th>الجهازأو الأداة الثاني</th>
                                        <th>الجهاز أو الأداة الثالث </th>

                                    </tr>
                                </thead>

                                <tbody>

                                    <tr>
                                        <td colspan="1" style="text-align:right;">
                                          
                                            <button type="button" id="addToolButton6" class="btn btn-success my-3 " onclick="AddnewtoolsDeviceNew('@Model.tredMaeketToolsVM.BrandID')" abled>إضافة أجهزة جديدة</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="form-floating py-2 col-12">
                                @{
                                    var sortedDeviceToolsName = Model.Devices_toolsVMorder.OrderBy(item => item.DevicesAndToolsOrder).ToList();
                                }
                                <select asp-for="Device_toolVM.DevicesAndToolsID" class="form-select" id="selectDevicetools" name="selectDevicetools">
                                    <option value="" disabled selected>-- اختر مكان الصف الجديد--</option>
                                    @foreach (var item in sortedDeviceToolsName)
                                    {
                                        <option value="@item.DevicesAndToolsID">@* @item.اسم_الجهاز_أو_الأداة1 ,@item.اسم_الجهاز_أو_الأداة2 , @item.اسم_الجهاز_أو_الأداة3 *@ </option>
                                    }
                                    <option value="0">اخر صف</option> <!-- The "Other" option -->
                                </select>
                            </div>

                            <div class="form-group col-12 py-2">
                                <div style="text-align: left;">

                                    <div class="form-group col-12 py-5">

                                        <input type="submit" value=" حفظ" asp-route-id="@Model.tredMaeketToolsVM.BrandID"
                                       style="text-align:center" class="btn btn-primary me-3" id="submitButton2" />
                                     </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </form>
    </div>
</div>



<script>
    function displaySelectedImage(input, imgId) {

        // Get the reference to the HTML img element based on the provided imgId
        var imgElement = document.getElementById(imgId);

        // Check if a file has been selected in the input element
        if (input.files && input.files[0]) {

            // Create a new FileReader object to read the selected file
            var reader = new FileReader();

            // Define an event handler for when the FileReader has finished reading the file
            reader.onload = function (e) {

                // Set the 'src' attribute of the img element to the read image data
                imgElement.src = e.target.result;
            };
            //test
            // Read the selected file as a data URL (base64 encoded)
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

@section Scripts {

    <script src="~/Js/DeviceTools/AdddeleteToolsDevice.js"></script>
}

